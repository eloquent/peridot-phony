language: php

matrix:
    include:
        - php: 7.0
        - php: 7.1
        - php: nightly
    fast_finish: true
    allow_failures:
        - php: nightly

before_install:
    - phpenv config-rm xdebug.ini || true
    - composer config --global github-oauth.github.com $GITHUB_TOKEN
install: composer install --prefer-dist --no-progress --no-interaction
script: scripts/travis
after_script: scripts/travis-after

env:
    global:
        - ELOQUENT_PUBLISH_VERSION=7.1
        - secure: "R2fpsdYJlpPb0gZkglXrymgenR2vnwjn6gEvoGMOeK4r9PnVckBIPQmCzPU+b+Q/oMZygfVnG7v9GhOt4HOdoRknte6XVxjCphc/Gf5VWFKmPWRfE96tfTal9ibVMDfq9IGE0SwQ2Fz+kkpYs3nk5xmgoxR9lkqXb/LFQM6WxYO15MnXHUBK6ZhSXxVPO/0b0vEfMVhmSelI2d7mMfQ6pZvEWVhUoAbhprX+JLpg8w6tnwFMjF+GrcPMubUscru+FapBi7QD6r0Y47WChDmVek5SfKPM+kIJS1z8SGD0uxQm9Vy2OREz5hahcXSX1S2DH85svb+UcegbjFasmVeLb0ADiDxAB2JiFmlefXo2gCxA4+T3aQ3UtwCG5LvSXcsJLh3UCSu3CKwMrPwIX0sMR5IR1TdlTK4FuhSLL0/DtQFtsjZrCtqL+muQ/XZlWX4idFwZEttcqOFq7Qys7Sk2eNRnZIZvD6cfuW9iP/LBotRPFAE0JU2BmfCxO1vaY08iHUm8R9y5XibzoncbRDIrqY5VrQLhzpi1ekmpDZAezzRX4Le876u1EGT4QnFyjvRTavDT/Cga6mYVg+XmT+xYpYnl1Mv1pjKqGOhVDoSD+hMMUMhPa+XIlgnXbxULmZepVfs23qbHgFaUSTWNQ8JC+9137/Zeczd8ZgA0DMdEg3c="

cache:
    directories:
        - $HOME/.composer

sudo: false
